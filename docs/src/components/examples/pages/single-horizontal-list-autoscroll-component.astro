---
import SingleHorizontalListOfPokemonsAutoscrollVue from "@/components/examples/vue/SingleHorizontalListOfPokemonsAutoscroll.vue";
import SingleHorizontalListOfPokemonsAutoscrollSvelte from "@/components/examples/svelte/SingleHorizontalListOfPokemonsAutoscroll.svelte";
import PageComponent from "./shared/page-component.astro";

const { framework } = Astro.props;
const horizontalListVueCode=`
<script setup lang="ts">
import { ref } from "vue";
import { useDragAndDrop } from "fluid-dnd/vue";
import type { Pokemon } from "./Pokemon";
import PokemonComponent from "./PokemonComponent.vue";
import { fetchPokemons } from "@/server/pokemonServer";

const pokemons = ref([] as Pokemon[]);
pokemons.value = await fetchPokemons(9);
const [ parent ] = useDragAndDrop(pokemons, { 
  direction: "horizontal",
  draggingClass: "dragging-pokemon",  
});
</script>
<template>
  <div class="flex max-sm:justify-center items-start">
    <div
      ref="parent"
      class="bg-gray-200/60 border-solid border-black/40 rounded-2xl border-4 p-4 max-sm:p-2 flex flex-row overflow-auto gap-2 max-sm:gap-1"
    >
      <PokemonComponent
        class="min-w-44 max-sm:min-w-32"
        v-for="(pokemon, index) in pokemons"
        :key="pokemon.name"
        :index="index"
        :pokemon="pokemon"
      />
    </div>
  </div>
</template>
`
const horizontalListSvelteCode=`<script lang="ts">
import { useDragAndDrop } from "fluid-dnd/svelte";
import type { Pokemon } from "../Pokemon";
import PokemonComponent from "@/components/examples/svelte/PokemonComponent.svelte";
import { fetchPokemons } from "@/server/pokemonServer";

const pokemons = ([] as Pokemon[]);
fetchPokemons(9).then((newPokemons)=>{
  pokemons.push(...newPokemons);
});
const [ parent ] = useDragAndDrop(pokemons, {
  direction: "horizontal",
  draggingClass: "dragging-pokemon",
});
</script>
<div class="flex max-sm:justify-center items-start">
  <div
    use:parent
    class="bg-gray-200/60 border-solid border-black/40 rounded-2xl border-4 p-4 max-sm:p-2 flex flex-row overflow-auto gap-2 max-sm:gap-1"
  >
    {#each pokemons as pokemon, index (pokemon.name)}
      <PokemonComponent
        class="min-w-44 max-sm:min-w-32"
        index={index}
        pokemon={pokemon}
      />
    {/each}
  </div>
</div>`
const fileName = 'SingleHorizontalListOfPokemonsAutoscroll';
---

<PageComponent framework={framework} vueCode={horizontalListVueCode} svelteCode={horizontalListSvelteCode} fileName={fileName}> 
  <fragment slot="vue"> 
    <SingleHorizontalListOfPokemonsAutoscrollVue client:load />
  </fragment>
  <fragment slot="svelte">
    <SingleHorizontalListOfPokemonsAutoscrollSvelte client:load />
  </fragment>
</PageComponent>
